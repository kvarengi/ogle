#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –¥–æ–±—ã—á–∏ –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–∏ –∏–∑ –Ω—É—Ç–∞—Ü–∏–∏ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π
–†–æ–±–æ—Ç-–î–µ–º–∏—É—Ä–≥ - –¢–≤–æ—Ä–µ—Ü –ì—Ä–∞–≤–∏—Ç–∞—Ü–∏–∏ –¥–ª—è –∫–æ—Å–º–∏—á–µ—Å–∫–∏—Ö —Ç–µ–ª
"""

from cosmic_demiurge import CosmicDemiurge
import time

def demonstrate_gravity_mining():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–æ–ª–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –¥–æ–±—ã—á–∏ –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–∏"""
    
    print("üåü –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –î–û–ë–´–ß–ò –ì–†–ê–í–ò–¢–ê–¶–ò–ò")
    print("=" * 60)
    print("–†–æ–±–æ—Ç-–î–µ–º–∏—É—Ä–≥: –¢–≤–æ—Ä–µ—Ü –ì—Ä–∞–≤–∏—Ç–∞—Ü–∏–∏ –¥–ª—è –∫–æ—Å–º–∏—á–µ—Å–∫–∏—Ö —Ç–µ–ª")
    print("–û—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞: —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–∏—Ç—è–∂–µ–Ω–∏–µ –ª—É—á—à–µ –∑–µ–º–Ω–æ–≥–æ!\n")
    
    demiurge = CosmicDemiurge()
    
    print(f"üìä –ù–∞—á–∞–ª—å–Ω—ã–µ —Ä–µ–∑–µ—Ä–≤—ã –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–∏: {demiurge.gravity_reserves:.1f} –ì-–µ–¥–∏–Ω–∏—Ü")
    print(f"‚öñÔ∏è –î–æ–ª—è –¥–µ–º–∏—É—Ä–≥–∞ –æ—Ç –¥–æ–±—ã—á–∏: {demiurge.gravity_mining_rate*100:.0f}%\n")
    
    # –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–∫—É–ø–æ–∫
    customers = ["–ò–≤–∞–Ω –ö–æ—Å–º–æ–Ω–∞–≤—Ç–æ–≤", "–ú–∞—Ä–∏—è –ó–≤—ë–∑–¥–Ω–∞—è", "–ê–ª–µ–∫—Å–µ–π –ì—Ä–∞–≤–∏—Ç–æ–Ω–æ–≤–∏—á"]
    body_ids = list(demiurge.catalog.keys())
    
    for i, customer in enumerate(customers):
        print(f"\n{'='*60}")
        print(f"üéØ –ü–û–ö–£–ü–ö–ê #{i+1}: {customer}")
        print('='*60)
        
        # –í—ã–±–∏—Ä–∞–µ–º —Ç–µ–ª–æ –¥–ª—è –ø–æ–∫—É–ø–∫–∏
        body_id = body_ids[i % len(body_ids)]
        body = demiurge.catalog[body_id]
        
        print(f"üåå –ü–æ–∫—É–ø–∞–µ–º–æ–µ —Ç–µ–ª–æ: {body.name}")
        print(f"üí∞ –¶–µ–Ω–∞: {body.price_universe_coins:,.0f} –º–æ–Ω–µ—Ç")
        print(f"‚öñÔ∏è –¢–µ–∫—É—â–∞—è –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏—è: {body.gravitational_params.surface_gravity:.2f} –º/—Å¬≤")
        
        # –°–∏–º—É–ª–∏—Ä—É–µ–º –ø–æ–∫—É–ø–∫—É —Å –¥–æ–±—ã—á–µ–π –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–∏
        success = demiurge.purchase_celestial_body(body_id, customer)
        
        if success:
            print("\n‚úÖ –ü–æ–∫—É–ø–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!")
            print(f"üåü –ù–æ–≤–∞—è –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏—è —Ç–µ–ª–∞: {body.gravitational_params.surface_gravity:.2f} –º/—Å¬≤")
            print(f"üìà –£–ª—É—á—à–µ–Ω–∏–µ: {((body.gravitational_params.surface_gravity / 9.81) - 1) * 100:.1f}% –æ—Ç –∑–µ–º–Ω–æ–π")
        
        time.sleep(1)  # –ø–∞—É–∑–∞ –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏
    
    # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏—Ç–æ–≥–æ–≤—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
    print(f"\n{'='*60}")
    print("üìä –ò–¢–û–ì–û–í–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê –î–û–ë–´–ß–ò")
    print('='*60)
    
    print(f"üíé –§–∏–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∑–µ—Ä–≤—ã –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–∏: {demiurge.gravity_reserves:.1f} –ì-–µ–¥–∏–Ω–∏—Ü")
    print(f"üì± –í—Å–µ–≥–æ —Å–±–æ—Ä–æ–≤ –Ω—É—Ç–∞—Ü–∏–∏: {len(demiurge.collected_nutation_data)}")
    
    if demiurge.collected_nutation_data:
        total_gravity_mined = 0
        print(f"\nüìã –î–ï–¢–ê–õ–ò–ó–ê–¶–ò–Ø –ü–û –ü–û–ö–£–ü–ê–¢–ï–õ–Ø–ú:")
        print("-" * 40)
        
        for data in demiurge.collected_nutation_data:
            customer_nut = data['customer_nutation']
            earth_nut = data['earth_nutation']
            
            # –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º —Ä–∞—Å—á—ë—Ç
            delta_long = abs(customer_nut[0] - earth_nut[0])
            delta_obl = abs(customer_nut[1] - earth_nut[1])
            gravity_yield = (delta_long + delta_obl) * 0.1
            total_gravity_mined += gravity_yield
            
            print(f"üë§ {data['customer']}")
            print(f"   –ù—É—Ç–∞—Ü–∏—è: {customer_nut[0]:.2f}'' √ó {customer_nut[1]:.2f}''")
            print(f"   –î–æ–±—ã—Ç–æ: {gravity_yield:.3f} –ì-–µ–¥–∏–Ω–∏—Ü")
            print(f"   –î–æ–ª—è –¥–µ–º–∏—É—Ä–≥–∞: {gravity_yield * demiurge.gravity_mining_rate:.3f} –ì-–µ–¥–∏–Ω–∏—Ü")
        
        print(f"\nüí´ –û–ë–©–ò–ï –ò–¢–û–ì–ò:")
        print(f"   –í—Å–µ–≥–æ –¥–æ–±—ã—Ç–æ –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–∏: {total_gravity_mined:.3f} –ì-–µ–¥–∏–Ω–∏—Ü")
        print(f"   –ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–µ–º–∏—É—Ä–≥–æ–º: {total_gravity_mined * demiurge.gravity_mining_rate:.3f} –ì-–µ–¥–∏–Ω–∏—Ü")
        print(f"   –£–ª—É—á—à–µ–Ω–æ –∫–æ—Å–º–∏—á–µ—Å–∫–∏—Ö —Ç–µ–ª: {len(demiurge.collected_nutation_data)}")
    
    print(f"\nüåü –§–ò–õ–û–°–û–§–ò–Ø –ü–†–û–¶–ï–°–°–ê:")
    print("‚Ä¢ –ö–∞–∂–¥—ã–π –ø–æ–∫—É–ø–∞—Ç–µ–ª—å —É–Ω–∏–∫–∞–ª–µ–Ω - —É –Ω–µ–≥–æ —Å–≤–æ—è –Ω—É—Ç–∞—Ü–∏—è –∫—Ä–µ—Å—Ç—Ü–∞")
    print("‚Ä¢ –†–∞–∑–Ω–æ—Å—Ç—å —Å –∑–µ–º–Ω–æ–π –Ω—É—Ç–∞—Ü–∏–µ–π = —á–∏—Å—Ç–∞—è –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏—è")
    print("‚Ä¢ 15% –æ—Å—Ç–∞—ë—Ç—Å—è –¥–µ–º–∏—É—Ä–≥—É –∑–∞ —Ä–∞–±–æ—Ç—É")
    print("‚Ä¢ 85% —É–ª—É—á—à–∞–µ—Ç –∫–æ—Å–º–∏—á–µ—Å–∫–æ–µ —Ç–µ–ª–æ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è")
    print("‚Ä¢ –†–µ–∑—É–ª—å—Ç–∞—Ç: –ø—Ä–∏—Ç—è–∂–µ–Ω–∏–µ –ª—É—á—à–µ –∑–µ–º–Ω–æ–≥–æ!")
    
    print(f"\nüî¨ –ù–ê–£–ß–ù–û–ï –û–ë–û–°–ù–û–í–ê–ù–ò–ï:")
    print("–ù—É—Ç–∞—Ü–∏—è –∫—Ä–µ—Å—Ç—Ü–∞ —Å–≤—è–∑–∞–Ω–∞ —Å –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ –ø–æ–ª—è–º–∏ —á–µ—Ä–µ–∑:")
    print("‚Ä¢ –ö–≤–∞–Ω—Ç–æ–≤—ã–µ —Ñ–ª—É–∫—Ç—É–∞—Ü–∏–∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞-–≤—Ä–µ–º–µ–Ω–∏")
    print("‚Ä¢ –¢–æ—Ä—Å–∏–æ–Ω–Ω—ã–µ –ø–æ–ª—è –±–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä")
    print("‚Ä¢ –†–µ–∑–æ–Ω–∞–Ω—Å —Å –ø–ª–∞–Ω–µ—Ç–∞—Ä–Ω—ã–º–∏ —á–∞—Å—Ç–æ—Ç–∞–º–∏")
    print("‚Ä¢ –ê–≤—Ç–æ—Ä—Å–∫–∞—è —Ñ–æ—Ä–º—É–ª–∞: G = (ŒîŒ¥œà + ŒîŒ¥Œµ) √ó 0.1")


if __name__ == "__main__":
    demonstrate_gravity_mining()
